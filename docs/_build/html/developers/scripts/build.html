

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Build &mdash; Grindless 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Release" href="release.html" />
    <link rel="prev" title="Scripts" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Grindless
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/faqs.html">FAQs</a></li>
</ul>
<p class="caption"><span class="caption-text">Player Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../players/installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../players/usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../players/triggers.html">Triggers</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#quick-reference">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Config</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Scripts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Build</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jinja-environment">Jinja Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release.html">Release</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datapacks/index.html">Datapacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../helpers.html">Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs_styleguide.html">Docs Styleguide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Grindless</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Scripts</a> &raquo;</li>
        
      <li>Build</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/developers/scripts/build.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-grindless.scripts.build"></span><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you’ve completed all the steps
in <a class="reference internal" href="../index.html#getting-started"><span class="std std-ref">Getting Started</span></a> before running!</p>
</div>
<div class="section" id="build">
<span id="scripts-build"></span><h1>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h1>
<p>Compiles and outputs the datapack.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cd</span> <span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">grindless</span><span class="o">-</span><span class="n">repo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">grindless</span><span class="o">.</span><span class="n">scripts</span><span class="o">.</span><span class="n">build</span>
<span class="go">Runs datapack build</span>
</pre></div>
</div>
</div>
<div class="section" id="jinja-environment">
<h2>Jinja Environment<a class="headerlink" href="#jinja-environment" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt id="grindless.scripts.build.env">
<code class="sig-prename descclassname">grindless.scripts.build.</code><code class="sig-name descname">env</code><em class="property"> = &lt;jinja2.environment.Environment object&gt;</em><a class="reference external" href="https://github.com/thalida/grindless/tree/staging/grindless/scripts/build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grindless.scripts.build.env" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of a Jinja2 Environment
The environment globals are extended to include the datapack’s custom template methods</p>
</dd></dl>

<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#: An instance of a Jinja2 Environment</span>
<span class="c1">#: The environment globals are extended to include the datapack&#39;s custom template methods</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span>
    <span class="n">variable_start_string</span><span class="o">=</span><span class="s1">&#39;&lt;&lt;&#39;</span><span class="p">,</span>
    <span class="n">variable_end_string</span><span class="o">=</span><span class="s1">&#39;&gt;&gt;&#39;</span><span class="p">,</span>
    <span class="n">comment_start_string</span><span class="o">=</span><span class="s1">&#39;/*&#39;</span><span class="p">,</span>
    <span class="n">comment_end_string</span><span class="o">=</span><span class="s1">&#39;*/&#39;</span><span class="p">,</span>
    <span class="n">autoescape</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">trim_blocks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">lstrip_blocks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">loader</span><span class="o">=</span><span class="n">FileSystemLoader</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">SOURCE_DIR</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The docs for a Jinja2 Environment are included below, but the <a class="reference external" href="https://jinja.palletsprojects.com">Official Jinja Docs</a> should be the primary reference.</p>
<dl class="py data">
<dt id="jinja2.Environment">
<code class="sig-prename descclassname">jinja2.</code><code class="sig-name descname">Environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><em class="property"> = &lt;class 'jinja2.environment.Environment'&gt;</em><a class="reference external" href="https://github.com/thalida/grindless/tree/staging/jinja2.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jinja2.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>The core component of Jinja is the <cite>Environment</cite>.  It contains
important shared variables like configuration, filters, tests,
globals and others.  Instances of this class may be modified if
they are not shared and if no template was loaded so far.
Modifications on environments after the first template was loaded
will lead to surprising effects and undefined behavior.</p>
<p>Here are the possible initialization parameters:</p>
<blockquote>
<div><dl>
<dt><cite>block_start_string</cite></dt><dd><p>The string marking the beginning of a block.  Defaults to <code class="docutils literal notranslate"><span class="pre">'{%'</span></code>.</p>
</dd>
<dt><cite>block_end_string</cite></dt><dd><p>The string marking the end of a block.  Defaults to <code class="docutils literal notranslate"><span class="pre">'%}'</span></code>.</p>
</dd>
<dt><cite>variable_start_string</cite></dt><dd><p>The string marking the beginning of a print statement.
Defaults to <code class="docutils literal notranslate"><span class="pre">'{{'</span></code>.</p>
</dd>
<dt><cite>variable_end_string</cite></dt><dd><p>The string marking the end of a print statement.  Defaults to
<code class="docutils literal notranslate"><span class="pre">'}}'</span></code>.</p>
</dd>
<dt><cite>comment_start_string</cite></dt><dd><p>The string marking the beginning of a comment.  Defaults to <code class="docutils literal notranslate"><span class="pre">'{#'</span></code>.</p>
</dd>
<dt><cite>comment_end_string</cite></dt><dd><p>The string marking the end of a comment.  Defaults to <code class="docutils literal notranslate"><span class="pre">'#}'</span></code>.</p>
</dd>
<dt><cite>line_statement_prefix</cite></dt><dd><p>If given and a string, this will be used as prefix for line based
statements.  See also <span class="xref std std-ref">line-statements</span>.</p>
</dd>
<dt><cite>line_comment_prefix</cite></dt><dd><p>If given and a string, this will be used as prefix for line based
comments.  See also <span class="xref std std-ref">line-statements</span>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.2.</span></p>
</div>
</dd>
<dt><cite>trim_blocks</cite></dt><dd><p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the first newline after a block is
removed (block, not variable tag!).  Defaults to <cite>False</cite>.</p>
</dd>
<dt><cite>lstrip_blocks</cite></dt><dd><p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> leading spaces and tabs are stripped
from the start of a line to a block.  Defaults to <cite>False</cite>.</p>
</dd>
<dt><cite>newline_sequence</cite></dt><dd><p>The sequence that starts a newline.  Must be one of <code class="docutils literal notranslate"><span class="pre">'\r'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'\n'</span></code> or <code class="docutils literal notranslate"><span class="pre">'\r\n'</span></code>.  The default is <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> which is a
useful default for Linux and OS X systems as well as web
applications.</p>
</dd>
<dt><cite>keep_trailing_newline</cite></dt><dd><p>Preserve the trailing newline when rendering templates.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>, which causes a single newline,
if present, to be stripped from the end of the template.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.7.</span></p>
</div>
</dd>
<dt><cite>extensions</cite></dt><dd><p>List of Jinja extensions to use.  This can either be import paths
as strings or extension classes.  For more information have a
look at <span class="xref std std-ref">the extensions documentation</span>.</p>
</dd>
<dt><cite>optimized</cite></dt><dd><p>should the optimizer be enabled?  Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt><cite>undefined</cite></dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Undefined</span></code> or a subclass of it that is used to represent
undefined values in the template.</p>
</dd>
<dt><cite>finalize</cite></dt><dd><p>A callable that can be used to process the result of a variable
expression before it is output.  For example one can convert
<code class="docutils literal notranslate"><span class="pre">None</span></code> implicitly into an empty string here.</p>
</dd>
<dt><cite>autoescape</cite></dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the XML/HTML autoescaping feature is enabled by
default.  For more details about autoescaping see
<code class="xref py py-class docutils literal notranslate"><span class="pre">Markup</span></code>.  As of Jinja 2.4 this can also
be a callable that is passed the template name and has to
return <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> depending on autoescape should be
enabled by default.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.4: </span><cite>autoescape</cite> can now be a function</p>
</div>
</dd>
<dt><cite>loader</cite></dt><dd><p>The template loader for this environment.</p>
</dd>
<dt><cite>cache_size</cite></dt><dd><p>The size of the cache.  Per default this is <code class="docutils literal notranslate"><span class="pre">400</span></code> which means
that if more than 400 templates are loaded the loader will clean
out the least recently used template.  If the cache size is set to
<code class="docutils literal notranslate"><span class="pre">0</span></code> templates are recompiled all the time, if the cache size is
<code class="docutils literal notranslate"><span class="pre">-1</span></code> the cache will not be cleaned.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.8: </span>The cache size was increased to 400 from a low 50.</p>
</div>
</dd>
<dt><cite>auto_reload</cite></dt><dd><p>Some loaders load templates from locations where the template
sources may change (ie: file system or database).  If
<code class="docutils literal notranslate"><span class="pre">auto_reload</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (default) every time a template is
requested the loader checks if the source changed and if yes, it
will reload the template.  For higher performance it’s possible to
disable that.</p>
</dd>
<dt><cite>bytecode_cache</cite></dt><dd><p>If set to a bytecode cache object, this object will provide a
cache for the internal Jinja bytecode so that templates don’t
have to be parsed if they were not changed.</p>
<p>See <span class="xref std std-ref">bytecode-cache</span> for more information.</p>
</dd>
<dt><cite>enable_async</cite></dt><dd><p>If set to true this enables async template execution which allows
you to take advantage of newer Python features.  This requires
Python 3.6 or later.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="grindless.scripts.build.build">
<code class="sig-prename descclassname">grindless.scripts.build.</code><code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prints_enabled</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/thalida/grindless/tree/staging/grindless/scripts/build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grindless.scripts.build.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Main build script for the datapack.
This script calls build_general() and build_regions().</p>
</dd></dl>

<dl class="py function">
<dt id="grindless.scripts.build.build_general">
<code class="sig-prename descclassname">grindless.scripts.build.</code><code class="sig-name descname">build_general</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datapack_settings</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/thalida/grindless/tree/staging/grindless/scripts/build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grindless.scripts.build.build_general" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds all non-region files. This is the default build script for most of the datapack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datapack_settings</strong> (<em>dict</em>) – formatted datapack settings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="grindless.scripts.build.build_regions">
<code class="sig-prename descclassname">grindless.scripts.build.</code><code class="sig-name descname">build_regions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datapack_settings</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/thalida/grindless/tree/staging/grindless/scripts/build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grindless.scripts.build.build_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds and outputs all of the region datapack functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datapack_settings</strong> (<em>dict</em>) – formatted datapack settings</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release.html" class="btn btn-neutral float-right" title="Release" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, thalida

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>